2023-04-20T23:06:29.846235Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/8beeca9bf4b69a280f0d2449ac7e183a49a54611 ci_number=20230417.5 ci_name=CommonRuntime-prod-build build_time=2023-04-18 02:14:07.890949
2023-04-20T23:06:29.846443Z  INFO metrics-capability::do_main: metrics_capability: metrics cap config cap_config=MetricsCapConfig { polling_interval_sec: 15, send_to_history_interval_sec: 60, enabled_resource_metrics: ["CpuUtilizationPercentage", "GpuUtilizationPercentage", "GpuEnergyJoules", "GpuMemoryUtilizationPercentage", "GpuMemoryUtilizationMegabytes", "GpuMemoryCapacityMegabytes", "CpuMemoryUtilizationPercentage", "CpuMemoryUtilizationMegabytes", "CpuMemoryCapacityMegabytes", "DiskReadMegabytes", "DiskWriteMegabytes", "NetworkInputMegabytes", "NetworkOutputMegabytes", "IBReceiveMegabytes", "IBTransmitMegabytes", "DiskUsedMegabytes", "DiskAvailMegabytes", "StorageAPISuccessCount", "StorageAPIFailureCount"], reserved_disk_space_bytes: 1400000000, additional_scrape_jobs: [], prometheus_push_gateway_port: None }
2023-04-20T23:06:29.846586Z  INFO metrics-capability::do_main: metrics_capability: run token file created
2023-04-20T23:06:29.846607Z  INFO metrics-capability::do_main: metrics_capability: embedded file file="prometheus-template.yml"
2023-04-20T23:06:29.847172Z  INFO metrics-capability::do_main: metrics_capability: prometheus config file created
2023-04-20T23:06:29.847212Z  INFO metrics-capability::do_main: metrics_capability::additional_scrape_jobs_configer: No additional scrape jobs configured.
2023-04-20T23:06:29.847231Z  INFO metrics-capability::do_main: metrics_capability: prometheus push gateway not enabled
2023-04-20T23:06:29.847272Z  INFO metrics_capability: starting prometheus subprocess watcher task
2023-04-20T23:06:29.847367Z  INFO metrics_capability: starting prometheus subprocess: prometheus ["--storage.tsdb.retention.time=30m", "--log.level=info", "--enable-feature=expand-external-labels", "--config.file=/usr/local/bin/prometheus.yml", "--web.listen-address=0.0.0.0:9090"] retry_count=1
2023-04-20T23:06:29.847476Z  INFO metrics_capability: starting cadvisor subprocess watcher task
2023-04-20T23:06:29.847499Z  INFO metrics_capability: starting cadvisor subprocess: cadvisor ["--stderrthreshold=0", "--raw_cgroup_prefix_whitelist=/system.slice/containerd.service", "--listen_ip=0.0.0.0", "--port=8081"] retry_count=1
2023-04-20T23:06:29.847599Z  INFO metrics_capability: starting node-exporter subprocess watcher task
2023-04-20T23:06:29.847620Z  INFO metrics_capability: starting node-exporter subprocess: node_exporter ["--collector.disable-defaults", "--collector.infiniband", "--collector.diskstats", "--log.level=info", "--web.listen-address=0.0.0.0:9100"] retry_count=1
2023-04-20T23:06:29.847726Z  INFO metrics_capability: heartbeat: starting
2023-04-20T23:06:29.861359Z  INFO metrics-capability::do_main: metrics_capability: No GPUs found, skipping nvidia-smi instant exporter
2023-04-20T23:06:29.861421Z  INFO metrics-capability::do_main: metrics_capability: metrics capability starting service address=/mnt/azureml/cr/j/e9a37433abaf42049e604ab0c3d4451e/.grpc/metrics-capability:0
2023-04-20T23:06:29.861488Z  INFO metrics-capability::do_main:metrics-capability::run_service{address="/mnt/azureml/cr/j/e9a37433abaf42049e604ab0c3d4451e/.grpc/metrics-capability:0" handles=[JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }, JoinHandle { id: Id(13) }, JoinHandle { id: Id(14) }]}: metrics_capability::service: metrics capability starting service address=/mnt/azureml/cr/j/e9a37433abaf42049e604ab0c3d4451e/.grpc/metrics-capability:0
2023-04-20T23:06:29.861658Z  INFO metrics-capability::do_main:metrics-capability::run_service{address="/mnt/azureml/cr/j/e9a37433abaf42049e604ab0c3d4451e/.grpc/metrics-capability:0" handles=[JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }, JoinHandle { id: Id(13) }, JoinHandle { id: Id(14) }]}:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds("/mnt/azureml/cr/j/e9a37433abaf42049e604ab0c3d4451e/.grpc/metrics-capability:0") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }
2023-04-20T23:06:29.862066Z  INFO metrics_capability: starting run token updater task
2023-04-20T23:06:29.862230Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint="https://eastus2.api.azureml.ms" run_id=RunId { subscription_id: "c7261a9b-9ffb-46f9-a6ef-61eefdc69f66", resource_group_name: "boqun.shu-rg", workspace_name: "mlproject", experiment_name: "boqun", run_id: "469b7ace-8295-4265-bba1-5ad5917c17b2" }}: vienna_client::run_history: Calling service service_endpoint="https://eastus2.api.azureml.ms"
2023-04-20T23:06:29.865576Z  INFO metrics_capability: started node-exporter subprocess
2023-04-20T23:06:29.865623Z  INFO metrics_capability: starting disk full checker, reserved_disk_space_bytes: 1400000000
2023-04-20T23:06:29.865649Z  INFO metrics_capability: heartbeat: AZ_BATCH_NODE_ROOT_DIR (node_disk_available_bytes) = 26903470080 metric_name=node_disk_available_bytes value=26903470080 root_dir=/mnt/root_dir
2023-04-20T23:06:29.867335Z  INFO metrics_capability: started cadvisor subprocess
2023-04-20T23:06:29.871289Z  INFO metrics_capability: started prometheus subprocess
2023-04-20T23:06:29.894919Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.894Z caller=node_exporter.go:182 level=info msg="Starting node_exporter" version="(version=1.3.1, branch=HEAD, revision=a2321e7b940ddcff26873612bccdf7cd4c42b6b6)"
2023-04-20T23:06:29.895059Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.895Z caller=node_exporter.go:183 level=info msg="Build context" build_context="(go=go1.17.3, user=root@243aafa5525c, date=20211205-11:09:49)"
2023-04-20T23:06:29.895173Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.895Z caller=node_exporter.go:185 level=warn msg="Node Exporter is running as root user. This exporter is designed to run as unpriviledged user, root is not required."
2023-04-20T23:06:29.895540Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.895Z caller=node_exporter.go:108 level=info msg="Enabled collectors"
2023-04-20T23:06:29.895616Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.895Z caller=node_exporter.go:115 level=info collector=diskstats
2023-04-20T23:06:29.895680Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.895Z caller=node_exporter.go:115 level=info collector=infiniband
2023-04-20T23:06:29.895889Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.895Z caller=node_exporter.go:199 level=info msg="Listening on" address=0.0.0.0:9100
2023-04-20T23:06:29.896147Z  INFO metrics_capability: [node-exporter] ts=2023-04-20T23:06:29.896Z caller=tls_config.go:195 level=info msg="TLS is disabled." http2=false
2023-04-20T23:06:29.987382Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint="https://eastus2.api.azureml.ms" run_id=RunId { subscription_id: "c7261a9b-9ffb-46f9-a6ef-61eefdc69f66", resource_group_name: "boqun.shu-rg", workspace_name: "mlproject", experiment_name: "boqun", run_id: "469b7ace-8295-4265-bba1-5ad5917c17b2" }}: vienna_client::run_history: close time.busy=60.8ms time.idle=64.4ms
2023-04-20T23:06:29.987432Z  INFO metrics_capability: run token refreshed, expiration 2023-04-21 23:06:29.980476600 +00:00
2023-04-20T23:06:29.987602Z  INFO metrics_capability: run token written to file
2023-04-20T23:06:29.996742Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:29.994Z caller=main.go:180 level=info msg="Experimental expand-external-labels enabled"
2023-04-20T23:06:29.996799Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:29.996Z caller=main.go:515 level=info msg="Starting Prometheus" version="(version=2.32.1, branch=HEAD, revision=41f1a8125e664985dd30674e5bdf6b683eff5d32)"
2023-04-20T23:06:29.996813Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:29.996Z caller=main.go:520 level=info build_context="(go=go1.17.5, user=root@54b6dbd48b97, date=20211217-22:08:06)"
2023-04-20T23:06:29.996827Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:29.996Z caller=main.go:521 level=info host_details="(Linux 5.15.0-1029-azure #36~20.04.1-Ubuntu SMP Tue Dec 6 17:00:26 UTC 2022 x86_64 4e7b8292045e4205a3c526c85b441207000001 (none))"
2023-04-20T23:06:29.996839Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:29.996Z caller=main.go:522 level=info fd_limits="(soft=262144, hard=262144)"
2023-04-20T23:06:29.996850Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:29.996Z caller=main.go:523 level=info vm_limits="(soft=unlimited, hard=unlimited)"
2023-04-20T23:06:30.010144Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.010Z caller=web.go:570 level=info component=web msg="Start listening for connections" address=0.0.0.0:9090
2023-04-20T23:06:30.015718Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.010Z caller=main.go:924 level=info msg="Starting TSDB ..."
2023-04-20T23:06:30.015765Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.012Z caller=tls_config.go:195 level=info component=web msg="TLS is disabled." http2=false
2023-04-20T23:06:30.021613Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.021Z caller=head.go:488 level=info component=tsdb msg="Replaying on-disk memory mappable chunks if any"
2023-04-20T23:06:30.021727Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.021Z caller=head.go:522 level=info component=tsdb msg="On-disk memory mappable chunks replay completed" duration=3µs
2023-04-20T23:06:30.021825Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.021Z caller=head.go:528 level=info component=tsdb msg="Replaying WAL, this may take a while"
2023-04-20T23:06:30.022234Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.022Z caller=head.go:599 level=info component=tsdb msg="WAL segment loaded" segment=0 maxSegment=0
2023-04-20T23:06:30.022354Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.022Z caller=head.go:605 level=info component=tsdb msg="WAL replay completed" checkpoint_replay_duration=61.999µs wal_replay_duration=354.798µs total_replay_duration=606.596µs
2023-04-20T23:06:30.023719Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.023Z caller=main.go:945 level=info fs_type=794c7630
2023-04-20T23:06:30.023797Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.023Z caller=main.go:948 level=info msg="TSDB started"
2023-04-20T23:06:30.023873Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.023Z caller=main.go:1129 level=info msg="Loading configuration file" filename=/usr/local/bin/prometheus.yml
2023-04-20T23:06:30.025045Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.025Z caller=dedupe.go:112 component=remote level=info remote_name=5eee82 url=https://eastus2.api.azureml.ms/metric/v2.0/subscriptions/c7261a9b-9ffb-46f9-a6ef-61eefdc69f66/resourceGroups/boqun.shu-rg/providers/Microsoft.MachineLearningServices/workspaces/mlproject/api/2.0/prometheus/post msg="Starting WAL watcher" queue=5eee82
2023-04-20T23:06:30.025464Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.025Z caller=dedupe.go:112 component=remote level=info remote_name=5eee82 url=https://eastus2.api.azureml.ms/metric/v2.0/subscriptions/c7261a9b-9ffb-46f9-a6ef-61eefdc69f66/resourceGroups/boqun.shu-rg/providers/Microsoft.MachineLearningServices/workspaces/mlproject/api/2.0/prometheus/post msg="Starting scraped metadata watcher"
2023-04-20T23:06:30.026266Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.025Z caller=dedupe.go:112 component=remote level=info remote_name=5eee82 url=https://eastus2.api.azureml.ms/metric/v2.0/subscriptions/c7261a9b-9ffb-46f9-a6ef-61eefdc69f66/resourceGroups/boqun.shu-rg/providers/Microsoft.MachineLearningServices/workspaces/mlproject/api/2.0/prometheus/post msg="Replaying WAL" queue=5eee82
2023-04-20T23:06:30.038329Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.038Z caller=main.go:1166 level=info msg="Completed loading of configuration file" filename=/usr/local/bin/prometheus.yml totalDuration=14.153427ms db_storage=900ns remote_storage=1.183494ms web_handler=900ns query_engine=800ns scrape=7.211862ms scrape_sd=93µs notify=1.5µs notify_sd=2.1µs rules=5.030674ms
2023-04-20T23:06:30.038362Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:30.038Z caller=main.go:897 level=info msg="Server is ready to receive web requests."
2023-04-20T23:06:30.633766Z  INFO metrics-capability::start: metrics_capability::capability_service: metrics capability lifecycle hook start called
2023-04-20T23:06:30.633817Z  INFO metrics-capability::start: metrics_capability::capability_service: close time.busy=52.7µs time.idle=8.60µs
2023-04-20T23:06:39.070665Z  INFO metrics_capability: [prometheus] ts=2023-04-20T23:06:39.070Z caller=dedupe.go:112 component=remote level=info remote_name=5eee82 url=https://eastus2.api.azureml.ms/metric/v2.0/subscriptions/c7261a9b-9ffb-46f9-a6ef-61eefdc69f66/resourceGroups/boqun.shu-rg/providers/Microsoft.MachineLearningServices/workspaces/mlproject/api/2.0/prometheus/post msg="Done replaying WAL" duration=9.045007589s
2023-04-20T23:06:55.075593Z  INFO metrics-capability::end: metrics_capability::capability_service: metrics capability lifecycle hook end called
2023-04-20T23:06:55.075647Z  INFO metrics-capability::end: metrics_capability::capability_service: close time.busy=55.9µs time.idle=21.8µs
